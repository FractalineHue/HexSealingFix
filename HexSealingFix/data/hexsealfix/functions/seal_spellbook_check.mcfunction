execute as @s at @s as @e[type=minecraft:item,distance=0..0.5,nbt={Item:{id:"hexcasting:spellbook"}},nbt=!{Item:{tag:{page_idx:1,sealed_pages:{1:1b}}}},nbt=!{Item:{tag:{page_idx:2,sealed_pages:{2:1b}}}},nbt=!{Item:{tag:{page_idx:3,sealed_pages:{3:1b}}}},nbt=!{Item:{tag:{page_idx:4,sealed_pages:{4:1b}}}},nbt=!{Item:{tag:{page_idx:5,sealed_pages:{5:1b}}}},nbt=!{Item:{tag:{page_idx:6,sealed_pages:{6:1b}}}},nbt=!{Item:{tag:{page_idx:7,sealed_pages:{7:1b}}}},nbt=!{Item:{tag:{page_idx:8,sealed_pages:{8:1b}}}},nbt=!{Item:{tag:{page_idx:9,sealed_pages:{9:1b}}}},nbt=!{Item:{tag:{page_idx:10,sealed_pages:{10:1b}}}},nbt=!{Item:{tag:{page_idx:11,sealed_pages:{11:1b}}}},nbt=!{Item:{tag:{page_idx:12,sealed_pages:{12:1b}}}},nbt=!{Item:{tag:{page_idx:13,sealed_pages:{13:1b}}}},nbt=!{Item:{tag:{page_idx:14,sealed_pages:{14:1b}}}},nbt=!{Item:{tag:{page_idx:15,sealed_pages:{15:1b}}}},nbt=!{Item:{tag:{page_idx:16,sealed_pages:{16:1b}}}},nbt=!{Item:{tag:{page_idx:17,sealed_pages:{17:1b}}}},nbt=!{Item:{tag:{page_idx:18,sealed_pages:{18:1b}}}},nbt=!{Item:{tag:{page_idx:19,sealed_pages:{19:1b}}}},nbt=!{Item:{tag:{page_idx:20,sealed_pages:{20:1b}}}},nbt=!{Item:{tag:{page_idx:21,sealed_pages:{21:1b}}}},nbt=!{Item:{tag:{page_idx:22,sealed_pages:{22:1b}}}},nbt=!{Item:{tag:{page_idx:23,sealed_pages:{23:1b}}}},nbt=!{Item:{tag:{page_idx:24,sealed_pages:{24:1b}}}},nbt=!{Item:{tag:{page_idx:25,sealed_pages:{25:1b}}}},nbt=!{Item:{tag:{page_idx:26,sealed_pages:{26:1b}}}},nbt=!{Item:{tag:{page_idx:27,sealed_pages:{27:1b}}}},nbt=!{Item:{tag:{page_idx:28,sealed_pages:{28:1b}}}},nbt=!{Item:{tag:{page_idx:29,sealed_pages:{29:1b}}}},nbt=!{Item:{tag:{page_idx:30,sealed_pages:{30:1b}}}},nbt=!{Item:{tag:{page_idx:31,sealed_pages:{31:1b}}}},nbt=!{Item:{tag:{page_idx:32,sealed_pages:{32:1b}}}},nbt=!{Item:{tag:{page_idx:33,sealed_pages:{33:1b}}}},nbt=!{Item:{tag:{page_idx:34,sealed_pages:{34:1b}}}},nbt=!{Item:{tag:{page_idx:35,sealed_pages:{35:1b}}}},nbt=!{Item:{tag:{page_idx:36,sealed_pages:{36:1b}}}},nbt=!{Item:{tag:{page_idx:37,sealed_pages:{37:1b}}}},nbt=!{Item:{tag:{page_idx:38,sealed_pages:{38:1b}}}},nbt=!{Item:{tag:{page_idx:39,sealed_pages:{39:1b}}}},nbt=!{Item:{tag:{page_idx:40,sealed_pages:{40:1b}}}},nbt=!{Item:{tag:{page_idx:41,sealed_pages:{41:1b}}}},nbt=!{Item:{tag:{page_idx:42,sealed_pages:{42:1b}}}},nbt=!{Item:{tag:{page_idx:43,sealed_pages:{43:1b}}}},nbt=!{Item:{tag:{page_idx:44,sealed_pages:{44:1b}}}},nbt=!{Item:{tag:{page_idx:45,sealed_pages:{45:1b}}}},nbt=!{Item:{tag:{page_idx:46,sealed_pages:{46:1b}}}},nbt=!{Item:{tag:{page_idx:47,sealed_pages:{47:1b}}}},nbt=!{Item:{tag:{page_idx:48,sealed_pages:{48:1b}}}},nbt=!{Item:{tag:{page_idx:49,sealed_pages:{49:1b}}}},nbt=!{Item:{tag:{page_idx:50,sealed_pages:{50:1b}}}},nbt=!{Item:{tag:{page_idx:51,sealed_pages:{51:1b}}}},nbt=!{Item:{tag:{page_idx:52,sealed_pages:{52:1b}}}},nbt=!{Item:{tag:{page_idx:53,sealed_pages:{53:1b}}}},nbt=!{Item:{tag:{page_idx:54,sealed_pages:{54:1b}}}},nbt=!{Item:{tag:{page_idx:55,sealed_pages:{55:1b}}}},nbt=!{Item:{tag:{page_idx:56,sealed_pages:{56:1b}}}},nbt=!{Item:{tag:{page_idx:57,sealed_pages:{57:1b}}}},nbt=!{Item:{tag:{page_idx:58,sealed_pages:{58:1b}}}},nbt=!{Item:{tag:{page_idx:59,sealed_pages:{59:1b}}}},nbt=!{Item:{tag:{page_idx:60,sealed_pages:{60:1b}}}},nbt=!{Item:{tag:{page_idx:61,sealed_pages:{61:1b}}}},nbt=!{Item:{tag:{page_idx:62,sealed_pages:{62:1b}}}},nbt=!{Item:{tag:{page_idx:63,sealed_pages:{63:1b}}}},nbt=!{Item:{tag:{page_idx:64,sealed_pages:{64:1b}}}}] run tag @s add Seal_Target_Spellbook
execute as @s at @s run function hexsealfix:seal_spellbook_step